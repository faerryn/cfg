#!/bin/sh

swallower="$(bspc query -N -n)"

"${@}" &

swallowed="$(bspc subscribe node_add -c 1 | cut -d' ' -f4)"
bspc node "${swallower}" --flag hidden=on
bspc node -f "${swallowed}"
wait
bspc node "${swallower}" --flag hidden=off
bspc node -f "${swallower}"
