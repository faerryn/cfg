" vimrc

set nocompatible
set viminfofile=~/.vim/viminfo
syntax on
filetype indent on 

" switch buffers without writing to disk
set hidden

" disable swapfile
set noswapfile

" yes undofiles
set undofile
set undodir=~/.vim/undo
call mkdir(&undodir, "p")

" set terminal title
set title

" show statusline and tabline
set laststatus=2
set showtabline=2

" line numbers
set number

" always show signcolumn
set signcolumn=yes

" no wrap
set nowrap

" new splits go under and right
set splitbelow
set splitright

" show tabs and trailing spaces
set list
let &listchars = "tab:> ,trail:-,nbsp:+"

" menus shouldn't cobble my text
set completeopt=menuone,preview,noinsert

" clipboard
set clipboard=unnamedplus

" mouse
set mouse=ar

" performance
set lazyredraw

" colorscheme
set background=dark
if getenv("COLORTERM") == "truecolor"
	set termguicolors
	set term=xterm
endif

" Y to eol
noremap Y y$

" netrw
let g:netrw_banner    = 0
let g:netrw_hide      = 1
let g:netrw_keepdir   = 0
let g:netrw_list_hide = "^\\.\\.\\?/$"
let g:netrw_winsize   = 25

" shell split commands
command! Shell  terminal
command! Hshell terminal
command! Lshell terminal
command! Sshell terminal
command! Vshell terminal
command! Tshell terminal

" bootstrap user.vim
let s:user_packadd_path = "faerryn/user.vim/default/default"
let s:user_install_path = expand("~/.vim/pack/user/opt/".s:user_packadd_path)
if !isdirectory(s:user_install_path)
	call system("git clone --quiet --depth 1 https://github.com/faerryn/user.vim.git \"".s:user_install_path."\"")
endif
execute "packadd" s:user_packadd_path

call user#use("faerryn/user.vim")

" command mode shortcuts
call user#use("ryvnf/readline.vim")

" period (.) repeat for plugins
call user#use("tpope/vim-repeat")

" tpope's indentation detector
call user#use("tpope/vim-sleuth")

" zig is the c of the future
let g:zig_fmt_autosave = 0
call user#use("ziglang/zig.vim")
